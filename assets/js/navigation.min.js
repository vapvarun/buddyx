(()=>{var m={TAB:9};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",f):f();function f(){y(),b()}function y(){var e=document.querySelectorAll(".nav--toggle-sub");if(e.length)for(let t=0;t<e.length;t++)v(e[t])}function v(e){var t=e.querySelectorAll(".menu ul");if(t.length){var l=E();for(let o=0;o<t.length;o++){var r=t[o].parentNode;let n=r.querySelector(".dropdown");if(!n){n=document.createElement("span"),n.classList.add("dropdown");var u=document.createElement("i");u.classList.add("dropdown-symbol"),n.appendChild(u),t[o].parentNode.insertBefore(n,t[o])}var d=l.cloneNode(!0);d.innerHTML=n.innerHTML,n.parentNode.replaceChild(d,n),d.addEventListener("click",a=>{c(a.target.parentNode)}),r.addEventListener("mouseleave",a=>{c(a.target,!1)}),r.querySelector("a").addEventListener("focus",a=>{var i=a.target.parentNode.parentNode.querySelectorAll("li.menu-item--toggled-on");for(let s=0;s<i.length;s++)c(i[s],!1)}),t[o].addEventListener("keydown",a=>{var i="ul.toggle-show > li > a, ul.toggle-show > li > button";m.TAB===a.keyCode&&(a.shiftKey?S(a.target,document.activeElement,i)&&c(a.target.parentNode,!1):h(a.target,document.activeElement,i)&&c(a.target.parentNode,!1))}),t[o].parentNode.classList.add("menu-item--has-toggle")}}}function b(){var e=document.querySelectorAll(".nav--toggle-small");if(e.length)for(let t=0;t<e.length;t++)p(e[t])}function p(e){var t=e.querySelector(".menu-toggle");t&&(t.setAttribute("aria-expanded","false"),t.addEventListener("click",l=>{l.target.setAttribute("aria-expanded",l.target.getAttribute("aria-expanded")==="false"?"true":"false")},!1))}function c(e,t){var l=e.querySelector(".dropdown-toggle"),r=e.querySelector("ul");let u=e.classList.contains("menu-item--toggled-on");if(t!==void 0&&typeof t=="boolean"&&(u=!t),l.setAttribute("aria-expanded",(!u).toString()),u){e.classList.remove("menu-item--toggled-on"),r.classList.remove("toggle-show"),l.setAttribute("aria-label",buddyxScreenReaderText.expand);var d=e.querySelectorAll(".menu-item--toggled-on");for(let n=0;n<d.length;n++)c(d[n],!1)}else{var o=e.parentNode.querySelectorAll("li.menu-item--toggled-on");for(let n=0;n<o.length;n++)c(o[n],!1);e.classList.add("menu-item--toggled-on"),r.classList.add("toggle-show"),l.setAttribute("aria-label",buddyxScreenReaderText.collapse)}}function E(){var e=document.createElement("button");return e.classList.add("dropdown-toggle"),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label",buddyxScreenReaderText.expand),e}function S(e,t,l){var r=e.querySelectorAll(l);return 0<r.length?t===r[0]:!1}function h(e,t,l){var r=e.querySelectorAll(l);return 0<r.length?t===r[r.length-1]:!1}(function(){var e=document.getElementById("masthead"),t=document.querySelectorAll(".buddyx-mobile-menu")[0];!e||!t||document.addEventListener("keydown",function(l){var r="input, a, button",u=t.querySelectorAll(r),d=document.querySelector(".menu-close"),o=u[u.length-1],n=u[0],a=document.activeElement,i=l.keyCode===9,s=l.shiftKey,g=jQuery(a).attr("id");g=="menu-toggle"&&jQuery("#"+g).hasClass("menu-toggle-open")&&d.focus(),g=="menu-close"&&!jQuery("#menu-toggle").hasClass("menu-toggle-open")&&o.focus(),!s&&i&&o===a&&(l.preventDefault(),d.focus()),s&&i&&n===a&&(l.preventDefault(),d.focus()),s&&i&&d===a&&(l.preventDefault(),o.focus())})})();})();
