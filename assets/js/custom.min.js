"use strict";!function(n,a,s){var e=a.BUDDYX||{};e.siteLoader=function(){n(".site-loader").addClass("loaded")},e.headerClass=function(){var e=n(s),t=n("body.sticky-header, .sticky-header .site-header-wrapper");e.on("scroll",function(){t.toggleClass("has-sticky-header",1<=e.scrollTop())})},e.headerScroll=function(){var e=n(".site-header-wrapper").height();n("body").hasClass("has-sticky-header")?n(".site").css("paddingTop",e+10+"px"):n(".site").css("paddingTop","0px")},e.headerSearch=function(){n(".search-icon").on("click",function(e){e.preventDefault(),n(".site-header .top-menu-search-container").toggle()}),n(s).on("mouseup",function(e){var t=n(".top-menu-search-container");t.is(e.target)||0!==t.has(e.target).length||t.fadeOut()}),n("#primary-menu a, .cart a.menu-icons-wrapper, .bp-icon-wrap, a.user-link, .site-sub-header a, .site-wrapper a").on("focusin",function(){n(".site-header .top-menu-search-container").hide()})},e.desktopMenuToggle=function(){n(".buddyx-desktop-menu #primary-menu").superfish({delay:600,animation:{opacity:"show"},animationOut:{opacity:"hide"},speed:"fast",speedOut:"fast",cssArrows:!1,disableHI:!1}),n("#primary-menu a, .desktop-icons a, .bp-icon-wrap").on("focusin",function(){n(".user-link-wrap, .user-notifications").removeClass("active")}),n(".site-title a, .user-link-wrap .user-link, button.menu-toggle").on("focusin",function(){n(".user-notifications").removeClass("active")}),n(".user-link-wrap .user-link, .user-notifications .bp-icon-wrap").on("focusin",function(){n(this).parent().removeClass("active"),n(this).parent().addClass("active")}),n(s).on("click",".user-link-wrap .user-link, .user-notifications .bp-icon-wrap",function(e){n(".user-link-wrap").removeClass("active")}),n(".user-link-wrap ul#user-profile-menu > li:last-child a").on("focusout",function(){n(".user-link-wrap").removeClass("active")}),n(".buddyx-mobile-menu").on("focusout",function(){n(".mobile-menu-heading .close-menu").trigger("focusin")})},e.mobileNav=function(){var e=n(".menu-toggle"),t=n("body"),a=(e.on("click",function(e){e.preventDefault(),i()?a():setTimeout(function(){o()},10)}),e.on("click",function(e){e.preventDefault(),i()?a():setTimeout(function(){o()},10)}),t.on("click touchstart",".mobile-menu-close",function(){i()&&a()}),t.on("click",".menu-close",function(e){e.preventDefault(),i()&&a()}),n(s).on("keyup",function(e){27===e.keyCode&&i()&&a()}),function(){n("body").removeClass("mobile-menu-opened"),n(e).removeClass("menu-toggle-open")}),o=function(){n("body").addClass("mobile-menu-opened"),n(e).addClass("menu-toggle-open")},i=function(){return n("body").hasClass("mobile-menu-opened")}},e.blogLayout=function(){n(".buddyx-article--masonry:not(.without-masonry)").isotope({itemSelector:".buddyx-article-col",percentPosition:!0,masonry:{columnWidth:".buddyx-grid-sizer"}})},e.fitVids=function(){0<n(".ld-video iframe").length&&n(".ld-video iframe").addClass("fitvidsignore"),0<n(".tutor-video-player iframe").length&&n(".tutor-video-player iframe").addClass("fitvidsignore");function a(){setTimeout(function(){var e="",e='iframe[src*="youtube"]'+((e=0<!n(".tutor-course-details-page").length&&0<!n(".tutor-course-single-content-wrapper").length?'iframe[src*="vimeo"]':e)?","+e:"");n(e).parent().fitVids()},300)}a(),n(s).ajaxComplete(function(){n(".elementor-popup-modal .elementor-widget-video").length||a(),n(".elementor-video-container").addClass("fitvidsignore")});n(s).on("bp_nouveau_lazy_load",function(e,t){void 0!==t&&void 0!==t.element&&"iframe"==t.element.getAttribute("data-lazy-type")&&a()})},e.stickySidebar=function(){var e=n(".site-header-wrapper").outerHeight(),t=32,t=n("body").hasClass("sticky-header")&&n("body").hasClass("admin-bar")?e+62:n("body").hasClass("sticky-header")?e+32:e;959<a.innerWidth?n(".sticky-sidebar-enable .sticky-sidebar").stick_in_parent({offset_top:t,spacer:!1}):n(".sticky-sidebar-enable .sticky-sidebar").trigger("sticky_kit:detach"),0<n(".sticky-sidebar-enable .sticky-sidebar").length&&n(s).on("ajaxComplete",function(e,t,a){setTimeout(function(){n(s.body).trigger("sticky_kit:recalc")},150)})},e.roundAvatarsBodyclass=function(){n(".buddypress-wrap").hasClass("round-avatars")&&n("body").addClass("round-avatars")},e.tableDataAtt=function(){var e;n("table").length&&(e=n("thead th"),n("tbody tr td").attr("data-attr",function(){return e.eq(n(this).index()).text()}))},e.toggleTheme=function(){n(s).on("click","#buddyx-toggle-track",function(e){e.preventDefault();e="",n("body").hasClass("buddyx-dark-theme")?(n.removeCookie("bxtheme",{path:"/"}),n("body").removeClass("buddyx-dark-theme")):(n.cookie("bxtheme","dark",{path:"/"}),n("body").addClass("buddyx-dark-theme"),e="dark"),"undefined"!=typeof toggle_theme_ajax&&null!=toggle_theme_ajax&&toggle_theme_ajax.abort(),e={action:"buddyx_lms_toggle_theme_color",color:e,nonce:buddyx_ajax.nonce};"undefined"!=typeof toggle_theme_ajax&&null!=toggle_theme_ajax&&(toggle_theme_ajax=n.post(ajaxurl,e,function(e){}))})},e.galleryPostSlider=function(){n(".buddyx-gallery-block .gallery").each(function(){var e=!!n("body").hasClass("rtl");n(".buddyx-article--default .buddyx-gallery-block .gallery").slick({infinite:!1,slidesToShow:4,slidesToScroll:1,nextArrow:'<button class="slick-next slick-arrow"><i class="fa fa-angle-right"></i></button>',prevArrow:'<button class="slick-prev slick-arrow"><i class="fa fa-angle-left"></i></button>',rtl:e,responsive:[{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:480,settings:{slidesToShow:1}}]}),n(".buddyx-post-section .buddyx-gallery-block .gallery").slick({infinite:!1,slidesToShow:2,slidesToScroll:1,nextArrow:'<button class="slick-next slick-arrow"><i class="fa fa-angle-right"></i></button>',prevArrow:'<button class="slick-prev slick-arrow"><i class="fa fa-angle-left"></i></button>',rtl:e,responsive:[{breakpoint:480,settings:{slidesToShow:1}}]}),n(".buddyx-article--list .buddyx-gallery-block .gallery, .buddyx-article--masonry .buddyx-gallery-block .gallery, .buddyx-section-half .buddyx-gallery-block .gallery").slick({infinite:!1,slidesToShow:1,slidesToScroll:1,nextArrow:'<button class="slick-next slick-arrow"><i class="fa fa-angle-right"></i></button>',prevArrow:'<button class="slick-prev slick-arrow"><i class="fa fa-angle-left"></i></button>',rtl:e})})},e.mediaPress=function(){n(".activity-update-form #whats-new-form").append(n("#mpp-activity-upload-buttons"))},n(function(){e.headerClass(),e.headerSearch(),e.desktopMenuToggle(),e.mobileNav(),e.stickySidebar(),e.fitVids(),e.roundAvatarsBodyclass(),e.tableDataAtt(),e.toggleTheme(),e.galleryPostSlider(),e.mediaPress()}),n(a).on("resize",function(){e.headerClass()}),n(a).on("scroll",function(){e.headerScroll()}),n(a).on("load",function(){e.headerClass(),e.siteLoader(),e.blogLayout()})}(jQuery,window,document);