(()=>{(function(e,c,o,f){"use strict";var i=c.BUDDYX||{};i.trapFocus=function(t,a){if(a.key!=="Tab")return!1;var n=t.find('a, button, input, select, textarea, [tabindex]:not([tabindex="-1"])').filter(":visible");if(!n.length)return!1;var s=n.first(),l=n.last();if(a.shiftKey){if(o.activeElement===s[0])return a.preventDefault(),l.focus(),!0}else if(o.activeElement===l[0])return a.preventDefault(),s.focus(),!0;return!1},i.keys={ESCAPE:"Escape",TAB:"Tab",ENTER:"Enter"},i.siteLoader=function(){e(".site-loader").addClass("loaded")},i.headerClass=function(){var t=e(o),a=e("body.sticky-header, .sticky-header .site-header-wrapper"),n="has-sticky-header";t.on("scroll",function(){a.toggleClass(n,t.scrollTop()>=1)})},i.headerScroll=function(){var t=e(".site-header-wrapper").height();e("body").hasClass("has-sticky-header")?e(".site").css("paddingTop",t+10+"px"):e(".site").css("paddingTop","0px")},i.headerSearch=function(){e(".search-icon").on("click",function(t){t.preventDefault(),e(".site-header .top-menu-search-container").toggle()}),e(o).on("mouseup",function(t){var a=e(".top-menu-search-container");!a.is(t.target)&&a.has(t.target).length===0&&a.fadeOut()}),e("#primary-menu a, .cart a.menu-icons-wrapper, .bp-icon-wrap, a.user-link, .site-sub-header a, .site-wrapper a").on("focusin",function(){e(".site-header .top-menu-search-container").hide()})},i.desktopMenuToggle=function(){e(".buddyx-desktop-menu #primary-menu").superfish({delay:600,animation:{opacity:"show"},animationOut:{opacity:"hide"},speed:"fast",speedOut:"fast",cssArrows:!1,disableHI:!1}),e("#primary-menu a, .desktop-icons a, .bp-icon-wrap").on("focusin",function(){e(".user-link-wrap").removeClass("active")}),e(".site-title a, .bp-msg .bp-icon-wrap, .user-link-wrap .user-link, button.menu-toggle").on("focusin",function(){e(".user-notifications").removeClass("active")}),e(".user-link-wrap .user-link").on("focusin",function(){e(this).parent().removeClass("active"),e(this).parent().addClass("active")}),e(o).on("click",".user-link-wrap .user-link",function(t){var a=e(".user-link-wrap");a.removeClass("active")}),e(".user-notifications .bp-icon-wrap").on("click",function(t){t.preventDefault(),e(this).parent().toggleClass("active")}),e(o).on("click",function(t){e(t.target).closest(".user-notifications").length||e(".user-notifications").removeClass("active")}),e(".user-link-wrap ul#user-profile-menu > li:last-child a").on("focusout",function(){e(".user-link-wrap").removeClass("active")}),e(".buddyx-mobile-menu").on("focusout",function(){e(".mobile-menu-heading .close-menu").trigger("focusin")})},i.mobileNav=function(){var t=e(".menu-toggle"),a=e("body"),n=null;t.on("click",function(r){r.preventDefault(),u()?s():(n=this,setTimeout(function(){l()},10))}),a.on("click touchstart",".mobile-menu-close",function(){u()&&s()}),a.on("click",".menu-close",function(r){r.preventDefault(),u()&&s()}),e(o).on("keyup",function(r){r.key===i.keys.ESCAPE&&u()&&s()}),e(o).on("keydown",function(r){u()&&i.trapFocus(e(".buddyx-mobile-menu"),r)});var s=function(){e("body").removeClass("mobile-menu-opened"),n&&(e(n).focus(),n=null)},l=function(){e("body").addClass("mobile-menu-opened"),setTimeout(function(){var r=e(".buddyx-mobile-menu"),d=r.find('a, button, input, [tabindex]:not([tabindex="-1"])').filter(":visible");d.length&&d.first().focus()},100)},u=function(){return e("body").hasClass("mobile-menu-opened")}},i.blogLayout=function(){e(".buddyx-article--masonry:not(.without-masonry)").isotope({itemSelector:".buddyx-article-col",percentPosition:!0,masonry:{columnWidth:".buddyx-grid-sizer"}})},i.fitVids=function(){e(".ld-video iframe").length>0&&e(".ld-video iframe").addClass("fitvidsignore"),e(".tutor-video-player iframe").length>0&&e(".tutor-video-player iframe").addClass("fitvidsignore");var t=function(){setTimeout(function(){var n='iframe[src*="youtube"]',s="";!e(".tutor-course-details-page").length>0&&!e(".tutor-course-single-content-wrapper").length>0&&(s='iframe[src*="vimeo"]');var l=n+(s?","+s:"");e(l).parent().fitVids()},300)};t(),e(o).off("ajaxComplete.buddyxFitVids").on("ajaxComplete.buddyxFitVids",function(){e(".elementor-popup-modal .elementor-widget-video").length||t(),e(".elementor-video-container").addClass("fitvidsignore")});var a=function(n,s){typeof s<"u"&&typeof s.element<"u"&&s.element.getAttribute("data-lazy-type")=="iframe"&&t()};e(o).on("bp_nouveau_lazy_load",a)},i.stickySidebar=function(){var t=e(".site-header-wrapper").outerHeight(),a=32;e("body").hasClass("sticky-header")&&e("body").hasClass("admin-bar")?a=t+62:e("body").hasClass("sticky-header")?a=t+32:a=t,c.innerWidth>959?e(".sticky-sidebar-enable .sticky-sidebar").stick_in_parent({offset_top:a,spacer:!1}):e(".sticky-sidebar-enable .sticky-sidebar").trigger("sticky_kit:detach"),e(".sticky-sidebar-enable .sticky-sidebar").length>0&&e(o).on("ajaxComplete",function(n,s,l){setTimeout(function(){e(o.body).trigger("sticky_kit:recalc")},150)})},i.tableDataAtt=function(){if(e("table").length){var t=e("thead th");e("tbody tr td").attr("data-attr",function(){return t.eq(e(this).index()).text()})}},i.galleryPostSlider=function(){e(".buddyx-gallery-block .gallery").each(function(){var t;e("body").hasClass("rtl")?t=!0:t=!1,e(".buddyx-article--default .buddyx-gallery-block .gallery").slick({infinite:!1,slidesToShow:4,slidesToScroll:1,nextArrow:'<button class="slick-next slick-arrow"><i class="fa fa-angle-right"></i></button>',prevArrow:'<button class="slick-prev slick-arrow"><i class="fa fa-angle-left"></i></button>',rtl:t,responsive:[{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:480,settings:{slidesToShow:1}}]}),e(".buddyx-post-section .buddyx-gallery-block .gallery").slick({infinite:!1,slidesToShow:2,slidesToScroll:1,nextArrow:'<button class="slick-next slick-arrow"><i class="fa fa-angle-right"></i></button>',prevArrow:'<button class="slick-prev slick-arrow"><i class="fa fa-angle-left"></i></button>',rtl:t,responsive:[{breakpoint:480,settings:{slidesToShow:1}}]}),e(".buddyx-article--list .buddyx-gallery-block .gallery, .buddyx-article--masonry .buddyx-gallery-block .gallery, .buddyx-section-half .buddyx-gallery-block .gallery").slick({infinite:!1,slidesToShow:1,slidesToScroll:1,nextArrow:'<button class="slick-next slick-arrow"><i class="fa fa-angle-right"></i></button>',prevArrow:'<button class="slick-prev slick-arrow"><i class="fa fa-angle-left"></i></button>',rtl:t})})},e(function(){i.headerClass(),i.headerSearch(),i.desktopMenuToggle(),i.mobileNav(),i.stickySidebar(),i.fitVids(),i.tableDataAtt(),i.galleryPostSlider()}),e(c).on("resize",function(){i.headerClass()}),e(c).on("scroll",function(){i.headerScroll()}),e(c).on("load",function(){i.headerClass(),i.siteLoader(),i.blogLayout()})})(jQuery,window,document);})();
